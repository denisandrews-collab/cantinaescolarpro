<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Cantina Escolar Pro</title>
    <style>
      /* Banner de diagnóstico visível mesmo sem JS */
      #diagnostic-static {
        position: fixed;
        top: 8px;
        right: 8px;
        background: #ffeb3b;
        color: #000;
        padding: 6px 10px;
        z-index: 99999;
        border-radius: 4px;
        font-family: sans-serif;
        font-size: 12px;
      }

      /* Garanta que root não esteja escondido por padrão */
      #root { min-height: 100vh; }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-900 font-sans antialiased">
    <!-- Banner que sempre aparece (verifica se o HTML está sendo servido) -->
    <div id="diagnostic-static">HTML OK — se isso NÃO aparecer, o problema é de carregamento estático</div>

    <div id="root"></div>

    <noscript>
      <div style="position:fixed;bottom:8px;left:8px;background:#f44336;color:#fff;padding:6px;border-radius:4px;z-index:99999;">
        JavaScript está desativado. Ative JS para ver a aplicação.
      </div>
    </noscript>

    <!-- Error overlay and handlers to surface runtime errors to the page for debugging -->
    <script>
      (function(){
        function showError(err){
          try{
            var overlay = document.getElementById('__error_overlay__');
            if(!overlay){
              overlay = document.createElement('div');
              overlay.id = '__error_overlay__';
              overlay.style = 'position:fixed;left:0;top:0;right:0;background:#fee;color:#900;padding:12px;z-index:99999;white-space:pre-wrap;font-family:monospace;max-height:50vh;overflow:auto;border-bottom:2px solid #fbb';
              document.body.appendChild(overlay);
            }
            var text = err && err.stack ? err.stack : String(err);
            overlay.textContent = 'JavaScript error:\n' + text;
            console.error(err);
          }catch(e){ /* ignore */ }
        }
        window.addEventListener('error', function(e){ showError(e.error || e.message || e); });
        window.addEventListener('unhandledrejection', function(e){ showError(e.reason || e); });
        var origConsoleError = console.error.bind(console);
        console.error = function(){ try{ showError(Array.prototype.slice.call(arguments).map(function(a){ try{ return a.stack || JSON.stringify(a); }catch(e){ return String(a); } }).join(' ')); }catch(e){}; origConsoleError.apply(null, arguments); };
      })();
    </script>

    <!-- Entrypoint corrigido -->
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
